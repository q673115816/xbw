import{v as e,n as t,d as r,r as n,a as o,o as i,b as s,c as a,e as l,F as c,f as d,g as u,u as f,t as w,h as p,i as g}from"./vendor.ecfe3c23.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),function(t={}){const{immediate:r=!1,onNeedRefresh:n,onOfflineReady:o,onRegistered:i,onRegisterError:s}=t;let a,l;if("serviceWorker"in navigator){a=new e("/xbw/service-worker.js",{scope:"/xbw/"}),a.addEventListener("activated",(e=>{e.isUpdate||null==o||o()}));{const e=()=>{null==n||n()};a.addEventListener("waiting",e),a.addEventListener("externalwaiting",e)}a.register({immediate:r}).then((e=>{l=e,null==i||i(e)})).catch((e=>{null==s||s(e)}))}}();const m={class:"ratio-16-9"},h={class:"inner"},v={id:"direction"},y=r({setup(e){const t=n(!1),r=n(),p=new Image;p.src="/xbw/assets/NewpalletTown.PNG.dd265bb0.webp",p.onload=()=>{p.complete&&(t.value=!0),k()};const g=o({x:0,y:0}),y={top:"↑",left:"←",right:"→",Down:"↓"},b=o({top:!1,left:!1,right:!1,Down:!1}),A={top:"y",left:"x",right:"x",Down:"y"},L={top:10,left:10,right:-10,Down:-10};o({ArrowUp:"top",ArrowLeft:"left",ArrowRight:"right",ArrowDown:"Down"});const k=()=>{if(!t.value)return;if(!r.value)return;const e=r.value.getContext("2d");for(const t in b)b[t]&&(g[A[t]]+=L[t]);e.drawImage(p,-p.width/2+g.x,-p.height/2+g.y,p.width,p.height),requestAnimationFrame(k)};requestAnimationFrame(k),i((()=>{const e=r.value,t=e.getContext("2d");e.width=400,e.height=400,t.translate(200,200)}));const x=e=>t=>{switch(t.key){case"ArrowUp":b.top=e;break;case"ArrowLeft":b.left=e;break;case"ArrowRight":b.right=e;break;case"ArrowDown":b.Down=e}};return document.addEventListener("keydown",x(!0)),document.addEventListener("keyup",x(!1)),(e,t)=>(s(),a(c,null,[l("div",m,[l("div",h,[l("canvas",{id:"screen",ref:(e,t)=>{t.screen=e,r.value=e}},null,512)])]),l("div",null,[l("div",v,[(s(),a(c,null,d(y,((e,t)=>l("div",{class:u(["arrow",!0===f(b)[t]&&"on"])},w(e),3))),64))])])],64))}});g(r({setup:e=>(e,t)=>(s(),p(f(y)))})).mount("#app");
